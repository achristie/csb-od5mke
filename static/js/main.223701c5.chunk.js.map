{"version":3,"sources":["SidePanel.js","App.js","error-page.js","UseCases.js","FetchForm.js","AuthForm.js","Radio.js","Metadata.js","DataComponent.js","transform.js","index.js"],"names":["LinkItems","link","className","to","path","name","SidePanel","links","map","l","App","cfg","id","ErrorPage","error","useRouteError","statusText","message","UseCases","useCases","selectUseCase","u","i","onClick","e","QueryParams","handleChange","obj","type","placeholder","display","value","onChange","target","htmlFor","FetchForm","endpoints","datasetUrl","handleFetch","errors","queryParams","setError","loading","baseUrl","useState","urlParams","setUrlParams","selectedEndpoint","setSelectedEndpoint","handleQpChange","key","upd","qp","useEffect","generateUrl","ep","filter","length","qs","URLSearchParams","append","endpoint","toString","idx","uc","readOnly","Object","keys","style","gap","Button","variant","disabled","Spinner","as","animation","size","role","AuthForm","token","apiKey","setToken","setApiKey","Input","label","renderingStyle","setRenderingStyle","autoComplete","checked","Radio","o","Metadata","data","meta","metadata","snakeToCamel","s","replace","k","toUpperCase","entries","reduce","x","v","normalizeMetadata","page","totalPages","count","queryTime","params","relevantConfig","c","dsn","console","log","transformData","d","arr","forEach","p","push","symbol","bate","assessDate","isCorrected","modDate","transformMarketData","DataComponent","rowData","setRowData","columnDefs","setColumnDefs","setData","pageData","useLoaderData","setLoading","url","preventDefault","headers","Authorization","appkey","fetch","response","ok","json","j","grid","results","field","text","t","status","height","width","maxHeight","overflowY","marginBottom","src","groupArraysAfterLength","rootElement","document","getElementById","root","createRoot","router","createBrowserRouter","element","errorElement","children","loader","render"],"mappings":"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","file":"static/js/main.223701c5.chunk.js","sourcesContent":["import { Link } from \"react-router-dom\";\nfunction SidePanel({ links }) {\n  return (\n    <ul className=\"nav flex-column\">\n      {links.map((l) => (\n        <LinkItems key={l.path} link={l} />\n      ))}\n    </ul>\n  );\n}\n\nfunction LinkItems({ link }) {\n  return (\n    <li className=\"nav-item\">\n      <Link to={link.path} className=\"nav-link active\" aria-current=\"page\">\n        {link.name}\n      </Link>\n    </li>\n  );\n}\n\nexport default SidePanel;\n","import \"./styles.css\";\n\nimport \"ag-grid-community/styles/ag-grid.css\";\nimport \"ag-grid-community/styles/ag-theme-alpine.css\";\nimport \"bootstrap/dist/css/bootstrap.css\";\nimport SidePanel from \"./SidePanel\";\nimport cfg from \"./config.json\";\nimport { Outlet } from \"react-router-dom\";\n\nfunction App() {\n  return (\n    <div className=\"container-fluid\">\n      <div className=\"row mt-5\">\n        <div className=\"col-3 col-xl-2 align-left\">\n          <SidePanel links={cfg} />\n        </div>\n        <div id=\"detail\" className=\"col-9 col-xl-10\">\n          <Outlet />\n          {/* <DataComponent /> */}\n        </div>\n      </div>\n    </div>\n  );\n}\n\nexport default App;\n","import { useRouteError } from \"react-router-dom\";\n\nexport default function ErrorPage() {\n  const error = useRouteError();\n\n  return (\n    <div id=\"error-page\">\n      <h1>Not Found</h1>\n      <p>Sorry, an unexpected error has occurred.</p>\n      <p>\n        <i>{error.statusText || error.message}</i>\n      </p>\n    </div>\n  );\n}\n","function UseCases({ useCases, selectUseCase }) {\n  return (\n    <>\n      {useCases.map((u, i) => (\n        <span\n          key={u.name}\n          className=\"btn badge rounded-pill text-bg-primary m-1\"\n          onClick={(e) => selectUseCase(e, i)}\n        >\n          {u.name}\n        </span>\n      ))}\n    </>\n  );\n}\n\nexport default UseCases;\n","import { useEffect, useState } from \"react\";\nimport UseCases from \"./UseCases\";\nimport Button from \"react-bootstrap/Button\";\nimport Spinner from \"react-bootstrap/Spinner\";\n\nfunction FetchForm({\n  useCases,\n  endpoints,\n  datasetUrl,\n  handleFetch,\n  errors,\n  setError,\n  queryParams,\n  loading\n}) {\n  const baseUrl = \"https://api.platts.com\";\n  const [urlParams, setUrlParams] = useState(queryParams);\n  const [selectedEndpoint, setSelectedEndpoint] = useState(endpoints[0].name);\n\n  // console.log(urlParams);gcc\n  // useEffect(() => {\n  //   setFilter(\"\");\n  //   setSort(\"\");\n  //   setError(\"\");\n  // }, [datasetUrl]);\n\n  // useEffect(() => {\n\n  // }, [])\n  useEffect(() => {\n    setUrlParams(queryParams);\n  }, [queryParams]);\n\n  function selectUseCase(e, idx) {\n    let uc = useCases[idx];\n    let obj = { ...urlParams };\n\n    for (const key in urlParams) {\n      obj[key].value = uc[key] || \"\";\n    }\n\n    setUrlParams(obj);\n\n    setSelectedEndpoint(uc.endpoint);\n    handleFetch(e, generateUrl());\n  }\n\n  function handleQpChange(e, obj, key) {\n    let upd = {};\n    obj[\"value\"] = e;\n    upd[key] = obj;\n    setUrlParams((qp) => ({\n      ...qp,\n      ...upd\n    }));\n  }\n\n  const generateUrl = () => {\n    let ep = endpoints.filter((e) => e.name === selectedEndpoint);\n    if (ep.length === 0) {\n      return;\n    }\n    let qs = new URLSearchParams();\n    for (const key in urlParams) {\n      if (urlParams[key].value) {\n        qs.append(key, urlParams[key].value);\n      }\n    }\n    return baseUrl + datasetUrl + ep[0].endpoint + \"?\" + qs.toString();\n  };\n\n  return (\n    <div className=\"card border border-0 bg-light mb-3 p-4\">\n      <div className=\"row mb-3\">\n        <div className=\"col\">\n          <UseCases useCases={useCases} selectUseCase={selectUseCase} />\n        </div>\n      </div>\n      <form className=\"\">\n        <div className=\"row mb-2\">\n          <div className=\"col-sm-6\">\n            <input\n              type=\"text\"\n              id=\"url\"\n              className=\"form-control\"\n              placeholder={baseUrl + datasetUrl}\n              aria-label=\"URL\"\n              readOnly\n            />\n          </div>\n          <div className=\"col-sm-6\">\n            <select\n              className=\"form-select\"\n              value={selectedEndpoint}\n              onChange={(e) => setSelectedEndpoint(e.target.value)}\n            >\n              {endpoints.map((e) => (\n                <option key={e.name}>{e.name}</option>\n              ))}\n            </select>\n          </div>\n        </div>\n        <div className=\"row row-cols-2 mb-2 \">\n          {urlParams &&\n            Object.keys(urlParams).map((qp) => (\n              <QueryParams\n                id={qp}\n                obj={urlParams[qp]}\n                handleChange={handleQpChange}\n                key={qp}\n              />\n            ))}\n        </div>\n        <div\n          className=\"flex-row align-items-center mt-2 d-flex\"\n          style={{ gap: \"40px\" }}\n        >\n          <div className=\"text-truncate flex-fill\">{generateUrl()}</div>\n          <div className=\"justify-content-end\">\n            <Button\n              variant=\"success\"\n              onClick={(e) => handleFetch(e, generateUrl())}\n              disabled={loading}\n            >\n              {loading ? (\n                <Spinner as=\"span\" animation=\"border\" size=\"sm\" role=\"status\" />\n              ) : (\n                \"Fetch\"\n              )}\n            </Button>\n          </div>\n        </div>\n      </form>\n      {errors && (\n        <div className=\"flex-row mt-3 alert alert-danger mb-0\" role=\"alert\">\n          {errors}\n        </div>\n      )}\n    </div>\n  );\n}\n\nfunction QueryParams({ id, handleChange, obj }) {\n  return (\n    <div className=\"col mb-2\">\n      <div className=\"form-floating\">\n        <input\n          type=\"text\"\n          id={id}\n          className=\"form-control\"\n          placeholder={obj.display}\n          value={obj.value || \"\"}\n          onChange={(e) => handleChange(e.target.value, obj, id)}\n        />\n        <label htmlFor={id}>{obj.display}</label>\n      </div>\n    </div>\n  );\n}\n\nexport default FetchForm;\n","function AuthForm({ token, apiKey, setToken, setApiKey }) {\n  return (\n    <div className=\"row mt-2 mb-3\">\n      <div className=\"col-sm-6\">\n        <input\n          type=\"text\"\n          value={token}\n          onChange={(e) => setToken(e.target.value)}\n          id=\"token\"\n          className=\"form-control\"\n          placeholder=\"token\"\n        />\n      </div>\n      <div className=\"col-sm-6\">\n        <input\n          type=\"text\"\n          id=\"apikey\"\n          value={apiKey}\n          onChange={(e) => setApiKey(e.target.value)}\n          className=\"form-control\"\n          placeholder=\"apikey\"\n        />\n      </div>\n    </div>\n  );\n}\n\nexport default AuthForm;\n","function Radio({ renderingStyle, setRenderingStyle }) {\n  const options = [\n    { name: \"table\", label: \"Table\" },\n    { name: \"json\", label: \"JSON\" }\n  ];\n  return (\n    <div className=\"btn-group mb-2\" role=\"group\">\n      {options.map((o) => (\n        <Input\n          key={o.name}\n          name={o.name}\n          label={o.label}\n          renderingStyle={renderingStyle}\n          setRenderingStyle={setRenderingStyle}\n        />\n      ))}\n    </div>\n  );\n}\n\nfunction Input({ name, label, renderingStyle, setRenderingStyle }) {\n  return (\n    <>\n      <input\n        key={name}\n        type=\"radio\"\n        className=\"btn-check\"\n        name={name}\n        id={name}\n        value={name}\n        autoComplete=\"off\"\n        checked={renderingStyle === name}\n        onChange={(e) => setRenderingStyle(e.target.value)}\n        // onClick={(e) => setRenderingStyle(e.target.value)}\n      />\n      <label className=\"btn btn-sm btn-outline-danger\" htmlFor={name}>\n        {label}\n      </label>\n    </>\n  );\n}\n\nexport default Radio;\n","function Metadata({ data }) {\n  let meta = data?.metadata;\n  meta = normalizeMetadata(meta);\n  return (\n    <div\n      className=\"d-flex justify-content-end text-muted mt-2\"\n      style={{ gap: \"25px\" }}\n    >\n      <span>\n        Page: <mark>{meta.page}</mark>\n      </span>\n      <span>\n        Total Pages: <mark>{meta.totalPages}</mark>\n      </span>\n      <span>\n        Total Records: <mark>{meta.count}</mark>\n      </span>\n      <span>\n        Query Time: <mark>{meta.queryTime}</mark>\n      </span>\n    </div>\n  );\n}\n\nfunction normalizeMetadata(metadata) {\n  const snakeToCamel = (s) => s.replace(/(_\\w)/g, (k) => k[1].toUpperCase());\n\n  metadata = Object.entries(metadata).reduce(\n    (x, [k, v]) => (x[snakeToCamel(k)] = v) && x,\n    {}\n  );\n\n  return metadata;\n}\n\nexport default Metadata;\n","import { useState } from \"react\";\nimport { AgGridReact } from \"ag-grid-react\";\nimport FetchForm from \"./FetchForm\";\nimport AuthForm from \"./AuthForm\";\nimport Radio from \"./Radio\";\nimport Metadata from \"./Metadata\";\nimport ReactJson from \"react-json-view\";\nimport cfg from \"./config.json\";\nimport { useLoaderData } from \"react-router-dom\";\nimport { transformMarketData } from \"./transform\";\n\nexport async function loader({ params }) {\n  let relevantConfig = cfg.filter((c) => c.path === params.dsn)[0];\n  console.log(params, relevantConfig);\n  return relevantConfig;\n}\n\nfunction transformData(name, data) {\n  switch (name) {\n    case \"market-data\":\n      return transformMarketData(data);\n\n    default:\n      return data;\n  }\n}\n\nfunction DataComponent() {\n  const [rowData, setRowData] = useState([]);\n  const [columnDefs, setColumnDefs] = useState([]);\n  const [token, setToken] = useState(\"\");\n  const [apiKey, setApiKey] = useState(\"\");\n  const [data, setData] = useState({});\n  const [renderingStyle, setRenderingStyle] = useState(\"table\");\n  const [error, setError] = useState(\"\");\n  const pageData = useLoaderData();\n  const [loading, setLoading] = useState(false);\n\n  async function handleFetch(e, url) {\n    e.preventDefault();\n    setLoading(true);\n    const headers = {\n      headers: {\n        Authorization: `Bearer ${token}`,\n        appkey: apiKey\n      }\n    };\n    const response = await fetch(url, headers);\n    setLoading(false);\n    if (response.ok) {\n      setError(\"\");\n      let j = await response.json();\n      setData(j);\n      let grid = transformData(pageData.path, j.results);\n      setColumnDefs(Object.keys(grid[0]).map((d) => ({ field: d })));\n      setRowData(grid);\n    } else {\n      let t = await response.text();\n      setError(`[${response.status}] ${t}`);\n    }\n  }\n\n  return (\n    <>\n      <AuthForm token={token} setToken={setToken} setApiKey={setApiKey} />\n      <FetchForm\n        useCases={pageData.useCases}\n        datasetUrl={pageData.dsn}\n        endpoints={pageData.endpoints}\n        handleFetch={handleFetch}\n        errors={error}\n        setError={setError}\n        queryParams={pageData.params}\n        loading={loading}\n      />\n      <Radio\n        renderingStyle={renderingStyle}\n        setRenderingStyle={setRenderingStyle}\n      />\n      <div\n        className=\"ag-theme-alpine d-inline-block\"\n        style={{\n          height: \"600px\",\n          width: \"100%\",\n          maxHeight: \"600px\"\n        }}\n      >\n        <div\n          style={{\n            height: \"100%\",\n            display: renderingStyle === \"table\" ? \"block\" : \"none\"\n          }}\n        >\n          <AgGridReact\n            style={{\n              height: \"100%\"\n            }}\n            rowData={rowData}\n            columnDefs={columnDefs}\n          ></AgGridReact>\n        </div>\n        <div\n          className=\"card p-2 \"\n          style={{\n            display: renderingStyle === \"json\" ? \"block\" : \"none\",\n            maxHeight: \"600px\",\n            overflowY: \"scroll\",\n            marginBottom: \"-6px\"\n          }}\n        >\n          <ReactJson src={data} groupArraysAfterLength={10} />\n        </div>\n      </div>\n      {Object.keys(data).length > 0 && <Metadata data={data} />}\n    </>\n  );\n}\n\nexport default DataComponent;\n","export function transformMarketData(d) {\n  let arr = [];\n  d.forEach((o) => {\n    o.data.forEach((p) => {\n      arr.push({\n        symbol: o.symbol,\n        bate: p.bate,\n        value: p.value,\n        assessDate: p.assessDate,\n        isCorrected: p.isCorrected,\n        modDate: p.modDate\n      });\n    });\n  });\n  return arr;\n}\n","import { StrictMode } from \"react\";\nimport { createRoot } from \"react-dom/client\";\nimport { RouterProvider, createBrowserRouter } from \"react-router-dom\";\n\nimport App from \"./App\";\nimport ErrorPage from \"./error-page\";\nimport DataComponent, { loader as dsnLoader } from \"./DataComponent\";\n\nconst rootElement = document.getElementById(\"root\");\nconst root = createRoot(rootElement);\n\nconst router = createBrowserRouter([\n  {\n    path: \"/\",\n    element: <App />,\n    errorElement: <ErrorPage />,\n    children: [\n      {\n        path: \"/:dsn\",\n        element: <DataComponent />,\n        loader: dsnLoader\n      }\n    ]\n  }\n]);\n\nroot.render(\n  <StrictMode>\n    <RouterProvider router={router} />\n  </StrictMode>\n);\n"],"sourceRoot":""}