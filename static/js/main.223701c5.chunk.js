(this.webpackJsonpreact=this.webpackJsonpreact||[]).push([[0],{28:function(e){e.exports=JSON.parse('[{"name":"Reference Data","path":"ref-data","dsn":"/market-data/reference-data","endpoints":[{"name":"Symbols","endpoint":"/v3/search"},{"name":"MDC","endpoint":"/v3/mdc"},{"name":"Forward Curves","endpoint":"/v3/forward-curve/search"}],"params":{"q":{"display":"Q"},"filter":{"display":"Filter"},"sort":{"display":"Sort"},"page":{"display":"Page"},"pageSize":{"display":"PageSize"}},"useCases":[{"name":"Spot, Crude Symbols","filter":"commodity: \\"Crude Oil\\" AND contract_type:\\"Spot\\"","endpoint":"Symbols"},{"name":"Symbols Delivered to a Qatar","filter":"delivery_region: \\"Qatar\\"","endpoint":"Symbols","pageSize":1000},{"name":"Symbols in the CN003 (Monthly) Curve","filter":"curve_code: \\"CN003\\" AND derivative_maturity_frequency: \\"Month\\"","sort":"symbol:asc","endpoint":"Symbols"},{"name":"Brent Curves","q":"brent","sort":"curve_name:asc","endpoint":"Forward Curves"},{"name":"List of MDCs","endpoint":"MDC"}]},{"name":"Market Data","path":"market-data","dsn":"/market-data","endpoints":[{"name":"CurrentBySymbol","endpoint":"/v3/value/current/symbol"},{"name":"CurrentByMDC","endpoint":"/v3/value/current/mdc"},{"name":"HistoryBySymbol","endpoint":"/v3/value/history/symbol"},{"name":"HistoryByMDC","endpoint":"/v3/value/history/mdc"}],"useCases":[{"name":"Current Prices for list of Symbols","filter":"symbol IN (\\"PCAAS00\\", \\"PCAAT00\\")","endpoint":"CurrentBySymbol"},{"name":"Historical Prices for list of Symbols","filter":"symbol IN (\\"PCAAS00\\", \\"PCAAT00\\")","sort":"assessDate:desc","endpoint":"HistoryBySymbol"},{"name":"Current Price for an MDC","filter":"mdc: \\"ET\\"","endpoint":"CurrentByMDC"}],"params":{"filter":{"display":"Filter"},"sort":{"display":"Sort"},"page":{"display":"Page"},"pageSize":{"display":"PageSize"}}},{"name":"Forward Curves","path":"forward-curves","dsn":"/market-data","endpoints":[{"name":"Curve Code","endpoint":"/forward-curve/v3/curve-codes"}],"useCases":[{"name":"Current Data for a Curve","filter":"curveCode: \\"CN003\\"","endpoint":"Curve Code"},{"name":"One month of data for a Curve","filter":"curve_code: \\"CN003\\" AND  assessDate >= \\"2022-10-01\\" and assessDate <= \\"2022-10-31\\"","endpoint":"Curve Code"},{"name":"Current Data for several Curves","filter":"curve_code IN (\\"CN003\\", \\"CN005\\", \\"CN006\\")","endpoint":"Curve Code"}],"params":{"filter":{"display":"Filter"},"sort":{"display":"Sort"},"page":{"display":"Page"},"pageSize":{"display":"PageSize"}}}]')},57:function(e,t,a){},85:function(e,t,a){"use strict";a.r(t);var r=a(0),n=a(45),s=a(16),c=a(3),i=(a(57),a(58),a(59),a(60),a(1));function l(e){var t=e.link;return Object(i.jsx)("li",{className:"nav-item",children:Object(i.jsx)(s.a,{to:t.path,className:"nav-link active","aria-current":"page",children:t.name})})}var o=function(e){var t=e.links;return Object(i.jsx)("ul",{className:"nav flex-column",children:t.map((function(e){return Object(i.jsx)(l,{link:e},e.path)}))})},d=a(28);var u=function(){return Object(i.jsx)("div",{className:"container-fluid",children:Object(i.jsxs)("div",{className:"row mt-5",children:[Object(i.jsx)("div",{className:"col-3 col-xl-2 align-left",children:Object(i.jsx)(o,{links:d})}),Object(i.jsx)("div",{id:"detail",className:"col-9 col-xl-10",children:Object(i.jsx)(c.a,{})})]})})};function j(){var e=Object(c.p)();return Object(i.jsxs)("div",{id:"error-page",children:[Object(i.jsx)("h1",{children:"Not Found"}),Object(i.jsx)("p",{children:"Sorry, an unexpected error has occurred."}),Object(i.jsx)("p",{children:Object(i.jsx)("i",{children:e.statusText||e.message})})]})}var m=a(5),b=a(4),p=a(7),h=a(46),v=a(11);var f=function(e){var t=e.useCases,a=e.selectUseCase;return Object(i.jsx)(i.Fragment,{children:t.map((function(e,t){return Object(i.jsx)("span",{className:"btn badge rounded-pill text-bg-primary m-1",onClick:function(e){return a(e,t)},children:e.name},e.name)}))})},O=a(49),x=a(47);function y(e){var t=e.id,a=e.handleChange,r=e.obj;return Object(i.jsx)("div",{className:"col mb-2",children:Object(i.jsxs)("div",{className:"form-floating",children:[Object(i.jsx)("input",{type:"text",id:t,className:"form-control",placeholder:r.display,value:r.value||"",onChange:function(e){return a(e.target.value,r,t)}}),Object(i.jsx)("label",{htmlFor:t,children:r.display})]})})}var g=function(e){var t=e.useCases,a=e.endpoints,n=e.datasetUrl,s=e.handleFetch,c=e.errors,l=(e.setError,e.queryParams),o=e.loading,d="https://api.platts.com",u=Object(r.useState)(l),j=Object(b.a)(u,2),m=j[0],p=j[1],h=Object(r.useState)(a[0].name),g=Object(b.a)(h,2),C=g[0],N=g[1];function S(e,t,a){var r={};t.value=e,r[a]=t,p((function(e){return Object(v.a)(Object(v.a)({},e),r)}))}Object(r.useEffect)((function(){p(l)}),[l]);var k=function(){var e=a.filter((function(e){return e.name===C}));if(0!==e.length){var t=new URLSearchParams;for(var r in m)m[r].value&&t.append(r,m[r].value);return d+n+e[0].endpoint+"?"+t.toString()}};return Object(i.jsxs)("div",{className:"card border border-0 bg-light mb-3 p-4",children:[Object(i.jsx)("div",{className:"row mb-3",children:Object(i.jsx)("div",{className:"col",children:Object(i.jsx)(f,{useCases:t,selectUseCase:function(e,a){var r=t[a],n=Object(v.a)({},m);for(var c in m)n[c].value=r[c]||"";p(n),N(r.endpoint),s(e,k())}})})}),Object(i.jsxs)("form",{className:"",children:[Object(i.jsxs)("div",{className:"row mb-2",children:[Object(i.jsx)("div",{className:"col-sm-6",children:Object(i.jsx)("input",{type:"text",id:"url",className:"form-control",placeholder:d+n,"aria-label":"URL",readOnly:!0})}),Object(i.jsx)("div",{className:"col-sm-6",children:Object(i.jsx)("select",{className:"form-select",value:C,onChange:function(e){return N(e.target.value)},children:a.map((function(e){return Object(i.jsx)("option",{children:e.name},e.name)}))})})]}),Object(i.jsx)("div",{className:"row row-cols-2 mb-2 ",children:m&&Object.keys(m).map((function(e){return Object(i.jsx)(y,{id:e,obj:m[e],handleChange:S},e)}))}),Object(i.jsxs)("div",{className:"flex-row align-items-center mt-2 d-flex",style:{gap:"40px"},children:[Object(i.jsx)("div",{className:"text-truncate flex-fill",children:k()}),Object(i.jsx)("div",{className:"justify-content-end",children:Object(i.jsx)(O.a,{variant:"success",onClick:function(e){return s(e,k())},disabled:o,children:o?Object(i.jsx)(x.a,{as:"span",animation:"border",size:"sm",role:"status"}):"Fetch"})})]})]}),c&&Object(i.jsx)("div",{className:"flex-row mt-3 alert alert-danger mb-0",role:"alert",children:c})]})};var C=function(e){var t=e.token,a=e.apiKey,r=e.setToken,n=e.setApiKey;return Object(i.jsxs)("div",{className:"row mt-2 mb-3",children:[Object(i.jsx)("div",{className:"col-sm-6",children:Object(i.jsx)("input",{type:"text",value:t,onChange:function(e){return r(e.target.value)},id:"token",className:"form-control",placeholder:"token"})}),Object(i.jsx)("div",{className:"col-sm-6",children:Object(i.jsx)("input",{type:"text",id:"apikey",value:a,onChange:function(e){return n(e.target.value)},className:"form-control",placeholder:"apikey"})})]})};function N(e){var t=e.name,a=e.label,r=e.renderingStyle,n=e.setRenderingStyle;return Object(i.jsxs)(i.Fragment,{children:[Object(i.jsx)("input",{type:"radio",className:"btn-check",name:t,id:t,value:t,autoComplete:"off",checked:r===t,onChange:function(e){return n(e.target.value)}},t),Object(i.jsx)("label",{className:"btn btn-sm btn-outline-danger",htmlFor:t,children:a})]})}var S=function(e){var t=e.renderingStyle,a=e.setRenderingStyle;return Object(i.jsx)("div",{className:"btn-group mb-2",role:"group",children:[{name:"table",label:"Table"},{name:"json",label:"JSON"}].map((function(e){return Object(i.jsx)(N,{name:e.name,label:e.label,renderingStyle:t,setRenderingStyle:a},e.name)}))})};var k=function(e){var t=e.data,a=null===t||void 0===t?void 0:t.metadata;return a=function(e){var t=function(e){return e.replace(/(_\w)/g,(function(e){return e[1].toUpperCase()}))};return e=Object.entries(e).reduce((function(e,a){var r=Object(b.a)(a,2),n=r[0],s=r[1];return(e[t(n)]=s)&&e}),{})}(a),Object(i.jsxs)("div",{className:"d-flex justify-content-end text-muted mt-2",style:{gap:"25px"},children:[Object(i.jsxs)("span",{children:["Page: ",Object(i.jsx)("mark",{children:a.page})]}),Object(i.jsxs)("span",{children:["Total Pages: ",Object(i.jsx)("mark",{children:a.totalPages})]}),Object(i.jsxs)("span",{children:["Total Records: ",Object(i.jsx)("mark",{children:a.count})]}),Object(i.jsxs)("span",{children:["Query Time: ",Object(i.jsx)("mark",{children:a.queryTime})]})]})},w=a(48),D=a.n(w);function P(){return(P=Object(p.a)(Object(m.a)().mark((function e(t){var a,r;return Object(m.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.params,r=d.filter((function(e){return e.path===a.dsn}))[0],console.log(a,r),e.abrupt("return",r);case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function A(e,t){return"market-data"===e?function(e){var t=[];return e.forEach((function(e){e.data.forEach((function(a){t.push({symbol:e.symbol,bate:a.bate,value:a.value,assessDate:a.assessDate,isCorrected:a.isCorrected,modDate:a.modDate})}))})),t}(t):t}var F=function(){var e=Object(r.useState)([]),t=Object(b.a)(e,2),a=t[0],n=t[1],s=Object(r.useState)([]),l=Object(b.a)(s,2),o=l[0],d=l[1],u=Object(r.useState)(""),j=Object(b.a)(u,2),v=j[0],f=j[1],O=Object(r.useState)(""),x=Object(b.a)(O,2),y=x[0],N=x[1],w=Object(r.useState)({}),P=Object(b.a)(w,2),F=P[0],B=P[1],M=Object(r.useState)("table"),T=Object(b.a)(M,2),R=T[0],z=T[1],_=Object(r.useState)(""),E=Object(b.a)(_,2),U=E[0],q=E[1],H=Object(c.j)(),I=Object(r.useState)(!1),J=Object(b.a)(I,2),L=J[0],Q=J[1];function K(){return(K=Object(p.a)(Object(m.a)().mark((function e(t,a){var r,s,c,i,l;return Object(m.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),Q(!0),r={headers:{Authorization:"Bearer ".concat(v),appkey:y}},e.next=5,fetch(a,r);case 5:if(s=e.sent,Q(!1),!s.ok){e.next=18;break}return q(""),e.next=11,s.json();case 11:c=e.sent,B(c),i=A(H.path,c.results),d(Object.keys(i[0]).map((function(e){return{field:e}}))),n(i),e.next=22;break;case 18:return e.next=20,s.text();case 20:l=e.sent,q("[".concat(s.status,"] ").concat(l));case 22:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return Object(i.jsxs)(i.Fragment,{children:[Object(i.jsx)(C,{token:v,setToken:f,setApiKey:N}),Object(i.jsx)(g,{useCases:H.useCases,datasetUrl:H.dsn,endpoints:H.endpoints,handleFetch:function(e,t){return K.apply(this,arguments)},errors:U,setError:q,queryParams:H.params,loading:L}),Object(i.jsx)(S,{renderingStyle:R,setRenderingStyle:z}),Object(i.jsxs)("div",{className:"ag-theme-alpine d-inline-block",style:{height:"600px",width:"100%",maxHeight:"600px"},children:[Object(i.jsx)("div",{style:{height:"100%",display:"table"===R?"block":"none"},children:Object(i.jsx)(h.AgGridReact,{style:{height:"100%"},rowData:a,columnDefs:o})}),Object(i.jsx)("div",{className:"card p-2 ",style:{display:"json"===R?"block":"none",maxHeight:"600px",overflowY:"scroll",marginBottom:"-6px"},children:Object(i.jsx)(D.a,{src:F,groupArraysAfterLength:10})})]}),Object.keys(F).length>0&&Object(i.jsx)(k,{data:F})]})},B=document.getElementById("root"),M=Object(n.createRoot)(B),T=Object(s.b)([{path:"/",element:Object(i.jsx)(u,{}),errorElement:Object(i.jsx)(j,{}),children:[{path:"/:dsn",element:Object(i.jsx)(F,{}),loader:function(e){return P.apply(this,arguments)}}]}]);M.render(Object(i.jsx)(r.StrictMode,{children:Object(i.jsx)(c.c,{router:T})}))}},[[85,1,2]]]);
//# sourceMappingURL=main.223701c5.chunk.js.map