{"version":3,"sources":["FetchForm.js","AuthForm.js","Radio.js","Metadata.js","SidePanel.js","App.js","index.js"],"names":["FetchForm","handleFetch","baseUrl","setUrl","datasetUrl","useState","filter","setFilter","sort","setSort","endpoints","name","endpoint","selectedEndpoint","setSelectedEndpoint","generateUrl","ep","e","qs","URLSearchParams","append","toString","className","map","u","type","id","placeholder","readOnly","value","onChange","target","onClick","AuthForm","token","apiKey","setToken","setApiKey","Input","label","renderingStyle","setRenderingStyle","autoComplete","checked","htmlFor","Radio","role","o","Metadata","data","meta","metadata","style","gap","page","totalPages","count","queryTime","SidePanel","href","DataComponent","rowData","setRowData","columnDefs","setColumnDefs","setData","mapData","d","arr","forEach","p","push","symbol","bate","assessDate","isCorrected","modDate","url","preventDefault","headers","Authorization","appkey","fetch","json","j","grid","results","Object","keys","field","height","width","maxHeight","display","overflowY","marginBottom","src","groupArraysAfterLength","length","App","rootElement","document","getElementById","createRoot","render"],"mappings":"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","file":"static/js/main.8a6873f9.chunk.js","sourcesContent":["import { useState } from \"react\";\n\nfunction FetchForm({ handleFetch, setUrl }) {\n  const baseUrl = \"https://api.platts.com\";\n  const datasetUrl = \"/market-data\";\n  const [filter, setFilter] = useState(\"\");\n  const [sort, setSort] = useState(\"\");\n\n  const useCases = [\n    { name: \"Price for list of symbols\", filter: \"blahblah\" },\n    { name: \"\", filter: \"123\", sort: \"no\" },\n    { name: \"abc2\", filter: \"123\", sort: \"no\" },\n    { name: \"abc3\", filter: \"123\", sort: \"no\" }\n  ];\n\n  const endpoints = [\n    { name: \"CurrentBySymbol\", endpoint: \"/v3/value/current/symbol\" },\n    { name: \"CurrentByMDC\", endpoint: \"/v3/value/current/mdc\" },\n    { name: \"HistoryBySymbol\", endpoint: \"/v3/value/history/symbol\" },\n    { name: \"HistoryByMDC\", endpoint: \"/v3/value/history/mdc\" }\n  ];\n  const [selectedEndpoint, setSelectedEndpoint] = useState(endpoints[0].name);\n\n  const generateUrl = () => {\n    let ep = endpoints.filter((e) => e.name === selectedEndpoint);\n    let qs = new URLSearchParams();\n    filter && qs.append(\"filter\", filter);\n    sort && qs.append(\"sort\", sort);\n    return baseUrl + datasetUrl + ep[0].endpoint + \"?\" + qs.toString();\n  };\n\n  return (\n    <div className=\"card border border-0 bg-light mb-3 p-4\">\n      <div className=\"row mb-3\">\n        <div className=\"col\">\n          {useCases.map((u) => (\n            <span\n              key={u.name}\n              className=\"btn badge rounded-pill text-bg-primary m-1\"\n            >\n              {u.name}\n            </span>\n          ))}\n        </div>\n      </div>\n      <form className=\"row form-floating\">\n        <div className=\"row mb-2\">\n          <div className=\"col-sm-6\">\n            <input\n              type=\"text\"\n              id=\"url\"\n              className=\"form-control\"\n              placeholder={baseUrl + datasetUrl}\n              aria-label=\"URL\"\n              readOnly\n            />\n          </div>\n          <div className=\"col-sm-6\">\n            <select\n              className=\"form-control\"\n              value={selectedEndpoint}\n              onChange={(e) => setSelectedEndpoint(e.target.value)}\n            >\n              {endpoints.map((e) => (\n                <option key={e.name}>{e.name}</option>\n              ))}\n            </select>\n          </div>\n        </div>\n        <div className=\"row mb-2\">\n          <div className=\"col\">\n            <input\n              type=\"text\"\n              id=\"filter\"\n              className=\"form-control\"\n              placeholder=\"Filter\"\n              value={filter}\n              onChange={(e) => setFilter(e.target.value)}\n            />\n          </div>\n          <div className=\"col\">\n            <input\n              type=\"text\"\n              id=\"sort\"\n              className=\"form-control\"\n              placeholder=\"Sort\"\n              value={sort}\n              onChange={(e) => setSort(e.target.value)}\n            />\n          </div>\n        </div>\n        <div className=\"row mt-2\">\n          <div className=\"col-11 text-truncate\">{generateUrl()}</div>\n          <div className=\"d-flex col justify-content-end\">\n            <button\n              className=\"btn btn-success btn-sm\"\n              onClick={(e) => handleFetch(e, generateUrl())}\n            >\n              Fetch\n            </button>\n          </div>\n        </div>\n      </form>\n    </div>\n  );\n}\n\nexport default FetchForm;\n","function AuthForm({ token, apiKey, setToken, setApiKey }) {\n  return (\n    <div className=\"row mt-2 mb-3\">\n      <div className=\"col-sm-6\">\n        <input\n          type=\"text\"\n          value={token}\n          onChange={(e) => setToken(e.target.value)}\n          id=\"token\"\n          className=\"form-control\"\n          placeholder=\"token\"\n        />\n      </div>\n      <div className=\"col-sm-6\">\n        <input\n          type=\"text\"\n          id=\"apikey\"\n          value={apiKey}\n          onChange={(e) => setApiKey(e.target.value)}\n          className=\"form-control\"\n          placeholder=\"apikey\"\n        />\n      </div>\n    </div>\n  );\n}\n\nexport default AuthForm;\n","function Radio({ renderingStyle, setRenderingStyle }) {\n  const options = [\n    { name: \"table\", label: \"Table\" },\n    { name: \"json\", label: \"JSON\" }\n  ];\n  return (\n    <div className=\"btn-group mb-2\" role=\"group\">\n      {options.map((o) => (\n        <Input\n          key={o.name}\n          name={o.name}\n          label={o.label}\n          renderingStyle={renderingStyle}\n          setRenderingStyle={setRenderingStyle}\n        />\n      ))}\n    </div>\n  );\n}\n\nfunction Input({ name, label, renderingStyle, setRenderingStyle }) {\n  return (\n    <>\n      <input\n        key={name}\n        type=\"radio\"\n        className=\"btn-check\"\n        name={name}\n        id={name}\n        value={name}\n        autoComplete=\"off\"\n        checked={renderingStyle === name}\n        onChange={(e) => setRenderingStyle(e.target.value)}\n        // onClick={(e) => setRenderingStyle(e.target.value)}\n      />\n      <label className=\"btn btn-sm btn-outline-danger\" htmlFor={name}>\n        {label}\n      </label>\n    </>\n  );\n}\n\nexport default Radio;\n","function Metadata({ data }) {\n  let meta = data?.metadata;\n  return (\n    <div\n      className=\"d-flex justify-content-end text-muted mt-2\"\n      style={{ gap: \"25px\" }}\n    >\n      <span>\n        Page: <mark>{meta.page}</mark>\n      </span>\n      <span>\n        Total Pages: <mark>{meta.totalPages}</mark>\n      </span>\n      <span>\n        Total Records: <mark>{meta.count}</mark>\n      </span>\n      <span>\n        Query Time: <mark>{meta.queryTime}</mark>\n      </span>\n    </div>\n  );\n}\n\nexport default Metadata;\n","function SidePanel() {\n  return (\n    <ul className=\"nav flex-column\">\n      <li className=\"nav-item\">\n        <a className=\"nav-link active\" aria-current=\"page\" href=\"#\">\n          Market Data\n        </a>\n      </li>\n      <li className=\"nav-item\">\n        <a className=\"nav-link\" href=\"#\">\n          Forward Curves\n        </a>\n      </li>\n    </ul>\n  );\n}\n\nexport default SidePanel;\n","import \"./styles.css\";\nimport { useState } from \"react\";\nimport { AgGridReact } from \"ag-grid-react\";\nimport FetchForm from \"./FetchForm\";\nimport AuthForm from \"./AuthForm\";\nimport Radio from \"./Radio\";\nimport Metadata from \"./Metadata\";\nimport ReactJson from \"react-json-view\";\n\nimport \"ag-grid-community/styles/ag-grid.css\";\nimport \"ag-grid-community/styles/ag-theme-alpine.css\";\nimport \"bootstrap/dist/css/bootstrap.css\";\nimport SidePanel from \"./SidePanel\";\n\nfunction DataComponent() {\n  const [rowData, setRowData] = useState([]);\n  const [columnDefs, setColumnDefs] = useState([]);\n  const [token, setToken] = useState(\"\");\n  const [apiKey, setApiKey] = useState(\"\");\n  const [data, setData] = useState({});\n  const [renderingStyle, setRenderingStyle] = useState(\"table\");\n\n  function mapData(d) {\n    let arr = [];\n    d.forEach((o) => {\n      o.data.forEach((p) => {\n        arr.push({\n          symbol: o.symbol,\n          bate: p.bate,\n          value: p.value,\n          assessDate: p.assessDate,\n          isCorrected: p.isCorrected,\n          modDate: p.modDate\n        });\n      });\n    });\n    return arr;\n  }\n\n  async function handleFetch(e, url) {\n    e.preventDefault();\n    const headers = {\n      headers: {\n        Authorization: `Bearer ${token}`,\n        appkey: apiKey\n      }\n    };\n    const data = await fetch(url, headers);\n    let j = await data.json();\n    setData(j);\n    let grid = mapData(j.results);\n    setColumnDefs(Object.keys(grid[0]).map((d) => ({ field: d })));\n    setRowData(grid);\n  }\n\n  return (\n    <>\n      <AuthForm token={token} setToken={setToken} setApiKey={setApiKey} />\n      <FetchForm handleFetch={handleFetch} />\n      <Radio\n        renderingStyle={renderingStyle}\n        setRenderingStyle={setRenderingStyle}\n      />\n      <div\n        className=\"ag-theme-alpine d-inline-block\"\n        style={{\n          height: \"700px\",\n          width: \"100%\",\n          maxHeight: \"700px\"\n        }}\n      >\n        {/* {renderingStyle === \"table\" ? ( */}\n        <div\n          style={{\n            height: \"100%\",\n            display: renderingStyle === \"table\" ? \"block\" : \"none\"\n          }}\n        >\n          <AgGridReact\n            style={{\n              height: \"100%\"\n            }}\n            rowData={rowData}\n            columnDefs={columnDefs}\n          ></AgGridReact>\n        </div>\n        {/* ) : ( */}\n        <div\n          className=\"card p-2 \"\n          style={{\n            display: renderingStyle === \"json\" ? \"block\" : \"none\",\n            maxHeight: \"700px\",\n            overflowY: \"scroll\",\n            marginBottom: \"-6px\"\n          }}\n        >\n          {/* <textarea value={data}/> */}\n          <ReactJson src={data} groupArraysAfterLength={10} />\n        </div>\n        {/* )} */}\n      </div>\n      {Object.keys(data).length > 0 && <Metadata data={data} />}\n    </>\n  );\n}\n\nfunction App() {\n  return (\n    <div className=\"container-fluid\">\n      <div className=\"row mt-5\">\n        <div className=\"col-3 col-xl-2 align-left\">\n          <SidePanel />\n        </div>\n        <div className=\"col-9 col-xl-10\">\n          <DataComponent />\n        </div>\n      </div>\n    </div>\n  );\n}\n\nexport default App;\n","import { StrictMode } from \"react\";\nimport { createRoot } from \"react-dom/client\";\n\nimport App from \"./App\";\n\nconst rootElement = document.getElementById(\"root\");\nconst root = createRoot(rootElement);\n\nroot.render(\n  <StrictMode>\n    <App />\n  </StrictMode>\n);\n"],"sourceRoot":""}