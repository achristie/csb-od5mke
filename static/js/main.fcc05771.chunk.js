(this.webpackJsonpreact=this.webpackJsonpreact||[]).push([[0],{28:function(e){e.exports=JSON.parse('[{"name":"Reference Data","path":"ref-data","dsn":"/market-data/reference-data","endpoints":[{"name":"Symbols","endpoint":"/v3/search"},{"name":"MDC","endpoint":"/v3/mdc"},{"name":"Forward Curves","endpoint":"/v3/forward-curve/search"}],"params":{"q":{"display":"Q"},"filter":{"display":"Filter"},"sort":{"display":"Sort"},"page":{"display":"Page"},"pageSize":{"display":"PageSize"}},"useCases":[{"name":"Spot, Crude Symbols","filter":"commodity: \\"Crude Oil\\" AND contract_type:\\"Spot\\"","endpoint":"Symbols"},{"name":"Symbols Delivered to a Qatar","filter":"delivery_region: \\"Qatar\\"","endpoint":"Symbols","pageSize":1000},{"name":"Symbols in the CN003 (Monthly) Curve","filter":"curve_code: \\"CN003\\" AND derivative_maturity_frequency: \\"Month\\"","sort":"symbol:asc","endpoint":"Symbols"},{"name":"Brent Curves","q":"brent","sort":"curve_name:asc","endpoint":"Forward Curves"},{"name":"List of MDCs","endpoint":"MDC"}]},{"name":"Market Data","path":"market-data","dsn":"/market-data","endpoints":[{"name":"CurrentBySymbol","endpoint":"/v3/value/current/symbol"},{"name":"CurrentByMDC","endpoint":"/v3/value/current/mdc"},{"name":"HistoryBySymbol","endpoint":"/v3/value/history/symbol"},{"name":"HistoryByMDC","endpoint":"/v3/value/history/mdc"}],"useCases":[{"name":"Current Prices for list of Symbols","filter":"symbol IN (\\"PCAAS00\\", \\"PCAAT00\\")","endpoint":"CurrentBySymbol"},{"name":"Historical Prices for list of Symbols","filter":"symbol IN (\\"PCAAS00\\", \\"PCAAT00\\")","sort":"assessDate:desc","endpoint":"HistoryBySymbol"},{"name":"Current Price for an MDC","filter":"mdc: \\"ET\\"","endpoint":"CurrentByMDC"}],"params":{"filter":{"display":"Filter"},"sort":{"display":"Sort"},"page":{"display":"Page"},"pageSize":{"display":"PageSize"}}},{"name":"Forward Curves","path":"forward-curves","dsn":"/market-data","endpoints":[{"name":"Curve Code","endpoint":"/forward-curve/v3/curve-codes"}],"useCases":[{"name":"Current Data for a Curve","filter":"curveCode: \\"CN003\\"","endpoint":"Curve Code"},{"name":"One month of data for a Curve","filter":"curve_code: \\"CN003\\" AND  assessDate >= \\"2022-10-01\\" and assessDate <= \\"2022-10-31\\"","endpoint":"Curve Code"},{"name":"Current Data for several Curves","filter":"curve_code IN (\\"CN003\\", \\"CN005\\", \\"CN006\\")","endpoint":"Curve Code"}],"params":{"filter":{"display":"Filter"},"sort":{"display":"Sort"},"page":{"display":"Page"},"pageSize":{"display":"PageSize"}}}]')},57:function(e,t,a){},85:function(e,t,a){"use strict";a.r(t);var r=a(0),n=a(45),s=a(16),c=a(3),i=a(5),l=a(6),o=(a(57),a(58),a(59),a(60),a(1));function d(e){var t=e.link;return Object(o.jsx)("li",{className:"nav-item",children:Object(o.jsx)(s.a,{to:t.path,className:"nav-link active","aria-current":"page",children:t.name})})}var u=function(e){var t=e.links;return Object(o.jsx)("ul",{className:"nav flex-column",children:t.map((function(e){return Object(o.jsx)(d,{link:e},e.path)}))})},j=a(28);function m(){return(m=Object(l.a)(Object(i.a)().mark((function e(){return Object(i.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",{name:"andrew"});case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var b=function(){return Object(o.jsx)("div",{className:"container-fluid",children:Object(o.jsxs)("div",{className:"row mt-5",children:[Object(o.jsx)("div",{className:"col-3 col-xl-2 align-left",children:Object(o.jsx)(u,{links:j})}),Object(o.jsx)("div",{id:"detail",className:"col-9 col-xl-10",children:Object(o.jsx)(c.a,{})})]})})};function p(){var e=Object(c.p)();return Object(o.jsxs)("div",{id:"error-page",children:[Object(o.jsx)("h1",{children:"Not Found"}),Object(o.jsx)("p",{children:"Sorry, an unexpected error has occurred."}),Object(o.jsx)("p",{children:Object(o.jsx)("i",{children:e.statusText||e.message})})]})}var h=a(4),v=a(46),f=a(11);var O=function(e){var t=e.useCases,a=e.selectUseCase;return Object(o.jsx)(o.Fragment,{children:t.map((function(e,t){return Object(o.jsx)("span",{className:"btn badge rounded-pill text-bg-primary m-1",onClick:function(e){return a(e,t)},children:e.name},e.name)}))})},x=a(49),y=a(47);function g(e){var t=e.id,a=e.handleChange,r=e.obj;return Object(o.jsx)("div",{className:"col mb-2",children:Object(o.jsxs)("div",{className:"form-floating",children:[Object(o.jsx)("input",{type:"text",id:t,className:"form-control",placeholder:r.display,value:r.value||"",onChange:function(e){return a(e.target.value,r,t)}}),Object(o.jsx)("label",{htmlFor:t,children:r.display})]})})}var C=function(e){var t=e.useCases,a=e.endpoints,n=e.datasetUrl,s=e.handleFetch,c=e.errors,i=(e.setError,e.queryParams),l=e.loading,d="https://api.platts.com",u=Object(r.useState)(i),j=Object(h.a)(u,2),m=j[0],b=j[1],p=Object(r.useState)(a[0].name),v=Object(h.a)(p,2),C=v[0],N=v[1];function S(e,t,a){var r={};t.value=e,r[a]=t,b((function(e){return Object(f.a)(Object(f.a)({},e),r)}))}Object(r.useEffect)((function(){b(i)}),[i]);var k=function(){var e=a.filter((function(e){return e.name===C}));if(0!==e.length){var t=new URLSearchParams;for(var r in m)m[r].value&&t.append(r,m[r].value);return d+n+e[0].endpoint+"?"+t.toString()}};return Object(o.jsxs)("div",{className:"card border border-0 bg-light mb-3 p-4",children:[Object(o.jsx)("div",{className:"row mb-3",children:Object(o.jsx)("div",{className:"col",children:Object(o.jsx)(O,{useCases:t,selectUseCase:function(e,a){var r=t[a],n=Object(f.a)({},m);for(var c in m)n[c].value=r[c]||"";b(n),N(r.endpoint),s(e,k())}})})}),Object(o.jsxs)("form",{className:"",children:[Object(o.jsxs)("div",{className:"row mb-2",children:[Object(o.jsx)("div",{className:"col-sm-6",children:Object(o.jsx)("input",{type:"text",id:"url",className:"form-control",placeholder:d+n,"aria-label":"URL",readOnly:!0})}),Object(o.jsx)("div",{className:"col-sm-6",children:Object(o.jsx)("select",{className:"form-select",value:C,onChange:function(e){return N(e.target.value)},children:a.map((function(e){return Object(o.jsx)("option",{children:e.name},e.name)}))})})]}),Object(o.jsx)("div",{className:"row row-cols-2 mb-2 ",children:m&&Object.keys(m).map((function(e){return Object(o.jsx)(g,{id:e,obj:m[e],handleChange:S},e)}))}),Object(o.jsxs)("div",{className:"flex-row align-items-center mt-2 d-flex",style:{gap:"40px"},children:[Object(o.jsx)("div",{className:"text-truncate flex-fill",children:k()}),Object(o.jsx)("div",{className:"justify-content-end",children:Object(o.jsx)(x.a,{variant:"success",onClick:function(e){return s(e,k())},disabled:l,children:l?Object(o.jsx)(y.a,{as:"span",animation:"border",size:"sm",role:"status"}):"Fetch"})})]})]}),c&&Object(o.jsx)("div",{className:"flex-row mt-3 alert alert-danger mb-0",role:"alert",children:c})]})};var N=function(e){var t=e.token,a=e.apiKey,r=e.setToken,n=e.setApiKey;return Object(o.jsxs)("div",{className:"row mt-2 mb-3",children:[Object(o.jsx)("div",{className:"col-sm-6",children:Object(o.jsx)("input",{type:"text",value:t,onChange:function(e){return r(e.target.value)},id:"token",className:"form-control",placeholder:"token"})}),Object(o.jsx)("div",{className:"col-sm-6",children:Object(o.jsx)("input",{type:"text",id:"apikey",value:a,onChange:function(e){return n(e.target.value)},className:"form-control",placeholder:"apikey"})})]})};function S(e){var t=e.name,a=e.label,r=e.renderingStyle,n=e.setRenderingStyle;return Object(o.jsxs)(o.Fragment,{children:[Object(o.jsx)("input",{type:"radio",className:"btn-check",name:t,id:t,value:t,autoComplete:"off",checked:r===t,onChange:function(e){return n(e.target.value)}},t),Object(o.jsx)("label",{className:"btn btn-sm btn-outline-danger",htmlFor:t,children:a})]})}var k=function(e){var t=e.renderingStyle,a=e.setRenderingStyle;return Object(o.jsx)("div",{className:"btn-group mb-2",role:"group",children:[{name:"table",label:"Table"},{name:"json",label:"JSON"}].map((function(e){return Object(o.jsx)(S,{name:e.name,label:e.label,renderingStyle:t,setRenderingStyle:a},e.name)}))})};var w=function(e){var t=e.data,a=null===t||void 0===t?void 0:t.metadata;return a=function(e){var t=function(e){return e.replace(/(_\w)/g,(function(e){return e[1].toUpperCase()}))};return e=Object.entries(e).reduce((function(e,a){var r=Object(h.a)(a,2),n=r[0],s=r[1];return(e[t(n)]=s)&&e}),{})}(a),Object(o.jsxs)("div",{className:"d-flex justify-content-end text-muted mt-2",style:{gap:"25px"},children:[Object(o.jsxs)("span",{children:["Page: ",Object(o.jsx)("mark",{children:a.page})]}),Object(o.jsxs)("span",{children:["Total Pages: ",Object(o.jsx)("mark",{children:a.totalPages})]}),Object(o.jsxs)("span",{children:["Total Records: ",Object(o.jsx)("mark",{children:a.count})]}),Object(o.jsxs)("span",{children:["Query Time: ",Object(o.jsx)("mark",{children:a.queryTime})]})]})},D=a(48),P=a.n(D);function A(){return(A=Object(l.a)(Object(i.a)().mark((function e(t){var a,r;return Object(i.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.params,r=j.filter((function(e){return e.path===a.dsn}))[0],console.log(a,r),e.abrupt("return",r);case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function F(e,t){return"market-data"===e?function(e){var t=[];return e.forEach((function(e){e.data.forEach((function(a){t.push({symbol:e.symbol,bate:a.bate,value:a.value,assessDate:a.assessDate,isCorrected:a.isCorrected,modDate:a.modDate})}))})),t}(t):t}var B=function(){var e=Object(r.useState)([]),t=Object(h.a)(e,2),a=t[0],n=t[1],s=Object(r.useState)([]),d=Object(h.a)(s,2),u=d[0],j=d[1],m=Object(r.useState)(""),b=Object(h.a)(m,2),p=b[0],f=b[1],O=Object(r.useState)(""),x=Object(h.a)(O,2),y=x[0],g=x[1],S=Object(r.useState)({}),D=Object(h.a)(S,2),A=D[0],B=D[1],M=Object(r.useState)("table"),T=Object(h.a)(M,2),R=T[0],z=T[1],_=Object(r.useState)(""),E=Object(h.a)(_,2),U=E[0],q=E[1],H=Object(c.j)(),I=Object(r.useState)(!1),J=Object(h.a)(I,2),L=J[0],Q=J[1];function K(){return(K=Object(l.a)(Object(i.a)().mark((function e(t,a){var r,s,c,l,o;return Object(i.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),Q(!0),r={headers:{Authorization:"Bearer ".concat(p),appkey:y}},e.next=5,fetch(a,r);case 5:if(s=e.sent,Q(!1),!s.ok){e.next=18;break}return q(""),e.next=11,s.json();case 11:c=e.sent,B(c),l=F(H.path,c.results),j(Object.keys(l[0]).map((function(e){return{field:e}}))),n(l),e.next=22;break;case 18:return e.next=20,s.text();case 20:o=e.sent,q("[".concat(s.status,"] ").concat(o));case 22:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return Object(o.jsxs)(o.Fragment,{children:[Object(o.jsx)(N,{token:p,setToken:f,setApiKey:g}),Object(o.jsx)(C,{useCases:H.useCases,datasetUrl:H.dsn,endpoints:H.endpoints,handleFetch:function(e,t){return K.apply(this,arguments)},errors:U,setError:q,queryParams:H.params,loading:L}),Object(o.jsx)(k,{renderingStyle:R,setRenderingStyle:z}),Object(o.jsxs)("div",{className:"ag-theme-alpine d-inline-block",style:{height:"600px",width:"100%",maxHeight:"600px"},children:[Object(o.jsx)("div",{style:{height:"100%",display:"table"===R?"block":"none"},children:Object(o.jsx)(v.AgGridReact,{style:{height:"100%"},rowData:a,columnDefs:u})}),Object(o.jsx)("div",{className:"card p-2 ",style:{display:"json"===R?"block":"none",maxHeight:"600px",overflowY:"scroll",marginBottom:"-6px"},children:Object(o.jsx)(P.a,{src:A,groupArraysAfterLength:10})})]}),Object.keys(A).length>0&&Object(o.jsx)(w,{data:A})]})},M=document.getElementById("root"),T=Object(n.createRoot)(M),R=Object(s.b)([{path:"/",element:Object(o.jsx)(b,{}),errorElement:Object(o.jsx)(p,{}),loader:function(){return m.apply(this,arguments)},children:[{path:"/:dsn",element:Object(o.jsx)(B,{}),loader:function(e){return A.apply(this,arguments)}}]}]);T.render(Object(o.jsx)(r.StrictMode,{children:Object(o.jsx)(c.c,{router:R})}))}},[[85,1,2]]]);
//# sourceMappingURL=main.fcc05771.chunk.js.map